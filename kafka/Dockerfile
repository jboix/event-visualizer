# Dockerfile for kafka
FROM confluentinc/cp-kafka:7.6.1

ENV KAFKA_BROKER_ID=1 \
    KAFKA_LISTENER_SECURITY_PROTOCOL_MAP='PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT' \
    KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \
    KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS=0 \
    KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1 \
    KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1 \
    KAFKA_LOG_RETENTION_HOURS=48 \
    KAFKA_LOG_RETENTION_CHECK_INTERVAL_MS=300000
